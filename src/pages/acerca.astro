---
import PageLayout from '../layouts/PageLayout.astro';
import Card from '../components/Card.astro';
import { Image } from 'astro:assets';
import placeholderAbout from '../assets/blog-placeholder-about.png';
import { getCollection } from 'astro:content';

const authorsEntries = await getCollection('authors');
const team = authorsEntries.map((entry) => entry.data);
const comite = team.filter((person) => person.type === 'comite');
const entrenadores = team.filter((person) => person.type === 'entrenador');
const exmiembros = team.filter((person) => person.type === 'exmiembro');
---

<PageLayout
	title="Acerca de la OMM Michoacán"
	description="Conoce la misión y al equipo que impulsa la Olimpiada Michoacana de Matemáticas."
	eyebrow="Acerca"
>
	<section class="content-shell py-12 space-y-8">
		<div class="grid gap-8 items-center lg:grid-cols-[1.3fr_1fr]">
			<div class="space-y-4 max-w-3xl">
				<p class="text-xs uppercase tracking-[0.3em] text-subtle m-0">Nuestra misión</p>
				<h1 class="text-3xl sm:text-4xl font-semibold leading-tight text-ink m-0">Matemáticas con creatividad, comunidad y propósito</h1>
				<p class="text-base text-muted m-0">
					La Olimpiada Mexicana de Matemáticas (OMM) promueve el estudio de las matemáticas de forma creativa,
					alejándose de la memorización mecánica y fortaleciendo el razonamiento, la imaginación y la resolución de
					problemas.
				</p>
				<p class="text-base text-muted m-0">
					En Michoacán, construimos una comunidad de estudiantes, docentes y exolímpicos que acompaña el proceso de
					formación desde niveles iniciales hasta etapas de selección nacional.
				</p>
			</div>
			<figure class="m-0 rounded-2xl overflow-hidden border border-(--color-border) bg-(--color-card-bg)">
				<Image src={placeholderAbout} alt="Comunidad de la Olimpiada Michoacana de Matemáticas" class="w-full h-full object-cover" />
			</figure>
		</div>
	</section>

	<section class="content-shell py-12 space-y-8">
		<header class="space-y-3 max-w-3xl">
			<p class="text-xs uppercase tracking-[0.3em] text-subtle">Equipo</p>
			<h1 class="text-3xl sm:text-4xl font-semibold leading-tight text-ink">Conoce al equipo</h1>
			<p class="text-base text-muted">
				Personas que hacen posible la Olimpiada y su comunidad local.
			</p>
		</header>

		<div class="grid gap-6 md:grid-cols-4">
			{comite.map((person) => (
				<Card
					title={person.title}
					href={person.link && person.link.trim() ? person.link : undefined}
					description={person.designation}
					image={person.image}
					imageAlt={person.title}
				/>
			))}
		</div>
	</section>

	<section class="content-shell py-12 space-y-8">
		<header class="space-y-3 max-w-3xl">
			<p class="text-xs uppercase tracking-[0.3em] text-subtle">Entrenadores</p>
			<h2 class="text-2xl sm:text-3xl font-semibold leading-tight text-ink">Equipo de entrenamiento</h2>
			<p class="text-base text-muted">
				Docentes, ex-olimpicos y estudiantes que acompanian el proceso.
			</p>
		</header>

		<div class="grid gap-6 md:grid-cols-5">
			{entrenadores.map((person) => (
				<Card
					title={person.title}
					href={person.link && person.link.trim() ? person.link : undefined}
					description={person.designation}
					image={person.image}
					imageAlt={person.title}
				/>
			))}
		</div>
	</section>

	<section class="content-shell py-12 space-y-8">
		<header class="space-y-3 max-w-3xl">
			<p class="text-xs uppercase tracking-[0.3em] text-subtle">Exmiembros</p>
			<h2 class="text-2xl sm:text-3xl font-semibold leading-tight text-ink">Quienes nos acompanaron</h2>
			<p class="text-base text-muted">
				Agradecemos el trabajo de quienes formaron parte del equipo.
			</p>
		</header>

		<div class="grid gap-6 md:grid-cols-6">
			{exmiembros.map((person) => (
				<Card
					title={person.title}
					href={person.link && person.link.trim() ? person.link : undefined}
					description={person.designation}
					image={person.image}
					imageAlt={person.title}
				/>
			))}
		</div>
	</section>
</PageLayout>
